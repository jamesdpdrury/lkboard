<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LK London FOH Board</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <div class="container">
       <div class="slide visible" id="slide1">
        </div>
        <div class="slide" id="slide2">
            <h1 id="performance2">Appearing at this <span id="type2"></span> performance</h1>
            <div class="cast"><div class="character">Rafiki</div><div class="person" id="rafiki"></div></div>
            <div class="cast"><div class="character">Mufasa</div><div class="person" id="mufasa"></div></div>
            <div class="cast"><div class="character">Sarabi</div><div class="person" id="sarabi"></div></div>
            <div class="cast"><div class="character">Zazu</div><div class="person" id="zazu"></div></div>
            <div class="cast"><div class="character">Scar</div><div class="person" id="scar"></div></div>
            <div class="cast"><div class="character">Young Simba</div><div class="person" id="youngSimba"></div></div>
            <div class="cast"><div class="character">Young Nala</div><div class="person" id="youngNala"></div></div>
            <div class="cast"><div class="character">Shenzi</div><div class="person" id="shenzi"></div></div>
            <div class="cast"><div class="character">Banzai</div><div class="person" id="banzai"></div></div>
            <div class="cast"><div class="character">Ed</div><div class="person" id="ed"></div></div>
            <div class="cast"><div class="character">Timon</div><div class="person" id="timon"></div></div>
            <div class="cast"><div class="character">Pumbaa</div><div class="person" id="pumbaa"></div></div>
            <div class="cast"><div class="character">Simba</div><div class="person" id="simba"></div></div>
            <div class="cast"><div class="character">Nala</div><div class="person" id="nala"></div></div>
            <div class="castblock"><div class="character">Ensemble</div> <div id="ensemble"></div></div>
            <div class="castblock"><div class="character">Swings</div> <div id="swings"></div></div>
            <div class="castblock"><div class="character">Walking Covers</div> <div id="walkingCovers"></div></div>
            <div class="castblock"><div class="character">This performance will be conducted by</div> <div id="conductor"></div></div>
            <div class="castblock"><div class="character">The Lion King Orchestra</div> <div id="orchestra"></div></div>
            <div class="castblock"><div class="character">Company Management</div> <span style="margin-right: 10px;" id="companyManager"></span><span id="deputyCompanyManager"></span></div>
        </div>
        <div class="slide" id="slide3">
            <h1>The Lion King Production Team</h1>
            <div class="left">
                <div class="department">
                    <h2>STAGE</h2>
                    <div class="tech" id="headStage"></div>
                    <div class="tech" id="deputyStageHead"></div>
                    <div class="tech" id="assistantStage"></div>
                    <div class="tech" id="stageTech"></div>
                    <div class="tech" id="stageCrew"></div>
                </div>
                <div class="department">
                    <h2>ELECTRICS</h2>
                    <div class="tech" id="headLX"></div>
                    <div class="tech" id="deputyHeadLX"></div>
                    <div class="tech" id="assistantLX"></div>
                    <div class="tech" id="spots"></div>
                    <div class="tech" id="traineeLX"></div>
                </div>
                <div class="department">
                    <h2>SOUND</h2>
                    <div class="tech" id="headSound"></div>
                    <div class="tech" id="deputyHeadSound"></div>
                    <div class="tech" id="seniorMixer"></div>
                    <div class="tech" id="assistantSound"></div>
                </div>
                <div class="department">
                    <h2>WARDROBE</h2>
                    <div class="tech" id="headWardrobe"></div>
                    <div class="tech" id="deputyHeadWardrobe"></div>
                    <div class="tech" id="assistantWardrobe"></div>
                    <div class="tech" id="assistantWardrobeSwings"></div>
                    <div class="tech" id="swingDresser"></div>
                    <div class="tech" id="dressers"></div>
                </div>
            </div><div class="right">
                <div class="department">
                    <h2>STAGE MANAGEMENT</h2>
                    <div class="tech" id="stageManager"></div>
                    <div class="tech" id="deputyStageManager"></div>
                    <div class="tech" id="asmBook"></div>
                    <div class="tech" id="asm"></div>
                    <div class="tech" id="asmTech"></div>
                </div>
                <div class="department">
                    <h2>MASKS AND PUPPETS</h2>
                    <div class="tech" id="headPuppets"></div>
                    <div class="tech" id="deputyHeadPuppets"></div>
                    <div class="tech" id="assistantPuppets"></div>
                    <div class="tech" id="fabricators"></div>
                </div>
                <div class="department">
                    <h2>HAIR AND MAKE-UP</h2>
                    <div class="tech" id="headWHAM"></div>
                    <div class="tech" id="deputyWHAM"></div>
                    <div class="tech" id="assistantWHAM"></div>
                </div>
                <div class="department">
                    <h2>CHAPERONES</h2>
                    <div class="tech" id="headChaperone"></div>
                    <div class="tech" id="deputyHeadChaperone"></div>
                    <div class="tech" id="chaperone"></div>
                </div>
                <div class="department">
                    <h2>AUTOMATION</h2>
                    <div class="tech" id="headAuto"></div>
                    <div class="tech" id="deputyHeadAuto"></div>
                    <div class="tech" id="assistantAuto"></div>
                </div>
                <div class="department">
                    <h2>PHYSIOTHERAPY</h2>
                    <div class="tech"><span class="person" id="physio"></span></div>
                </div>
                <div class="department">
                    <h2>WELLBEING</h2>
                    <div class="tech"><span class="person" id="wellbeing"></span></div>
                </div>
            </div>
        </div>
    </div>
    <iframe style="display: none;" src="https://script.google.com/macros/s/AKfycbz-xQtunVDdXA4Xa2dweolffp2fsAVMZi_ErS-Evc836KzPfj1u7eWKRJudswOdhhd4uw/exec" id="data-iframe"></iframe>

    <script>
        function convertNewlinesToBreaks(text) {
          return text.replace(/\n/g, '<br>');
        }
      
        // Listen for messages from the iframe
        window.addEventListener('message', function(event) {
          var data = event.data;
      
          // Check if the data is of expected type/format
          if (typeof data === 'object' && data !== null) {
            // Update the content of the divs with the received data
            document.getElementById("type2").innerText = data.performance2 || '';
            document.getElementById("rafiki").innerText = data.rafiki || 'loading...';
            document.getElementById("mufasa").innerText = data.mufasa || 'loading...';
            document.getElementById("sarabi").innerText = data.sarabi || 'loading...';
            document.getElementById("zazu").innerText = data.zazu || 'loading...';
            document.getElementById("scar").innerText = data.scar || 'loading...';
            document.getElementById("youngSimba").innerText = data.youngSimba || 'loading...';
            document.getElementById("youngNala").innerText = data.youngNala || 'loading...';
            document.getElementById("shenzi").innerText = data.shenzi || 'loading...';
            document.getElementById("banzai").innerText = data.banzai || 'loading...';
            document.getElementById("ed").innerText = data.ed || 'loading...';
            document.getElementById("timon").innerText = data.timon || 'loading...';
            document.getElementById("pumbaa").innerText = data.pumbaa || 'loading...';
            document.getElementById("simba").innerText = data.simba || 'loading...';
            document.getElementById("nala").innerText = data.nala || 'loading...';
            document.getElementById("ensemble").innerText = data.ensemble || 'loading...';
            document.getElementById("swings").innerText = data.swings || 'loading...';
            document.getElementById("walkingCovers").innerText = data.walkingCovers || 'loading...';
            document.getElementById("conductor").innerText = data.conductor || 'loading...';
            document.getElementById("orchestra").innerText = data.orchestra || 'loading...';
            document.getElementById("companyManager").innerText = "Company Manager: " + data.companyManager || 'loading...';
            document.getElementById("deputyCompanyManager").innerText = "Deputy Company Manager: " + data.deputyCompanyManager || 'loading...';
      
            // Assuming data.coversList is a string, you can check if it's empty or not
if (data.coversList && data.coversList.trim() !== '') {
    document.getElementById("slide1").innerHTML = 
        '<h1>Appearing at this <span>' + (convertNewlinesToBreaks(data.performance)) + '</span> performance</h1><div class="holder"><div id="covers" class="castFront character">' + 
        (convertNewlinesToBreaks(data.coversList)) + 
        '</div></div>';
} else {
    document.getElementById("slide1").innerHTML = '<img class="logo" id="lion" src="Logo.png">';
}


            
            // Convert newlines to <br> in the data fields
            document.getElementById("headStage").innerHTML = 
              '<span class="role">Head of Stage</span> ' + (convertNewlinesToBreaks(data.headStage || 'loading...'));
            document.getElementById("deputyStageHead").innerHTML = 
              '<span class="role">Deputy Head of Stage</span> ' + (convertNewlinesToBreaks(data.deputyDeadStage || 'loading...'));
            document.getElementById("assistantStage").innerHTML = 
              '<span class="role">Assistant Stage</span> ' + (convertNewlinesToBreaks(data.assistantStage || 'loading...'));
            document.getElementById("stageTech").innerHTML = 
              '<span class="role">Stage Technicians - Swings</span> ' + (convertNewlinesToBreaks(data.stageTech || 'loading...'));
            document.getElementById("stageCrew").innerHTML = 
              '<span class="role">Stage Crew</span> ' + (convertNewlinesToBreaks(data.stageCrew || 'loading...'));
            document.getElementById("headLX").innerHTML = 
              '<span class="role">Head of Electrics</span> ' + (convertNewlinesToBreaks(data.headLX || 'loading...'));
            document.getElementById("deputyHeadLX").innerHTML = 
              '<span class="role">Deputy Head of Electrics</span> ' + (convertNewlinesToBreaks(data.deputyHeadLX || 'loading...'));
            document.getElementById("assistantLX").innerHTML = 
              '<span class="role">Assistant Electrics</span> ' + (convertNewlinesToBreaks(data.assistantLX || 'loading...'));
            document.getElementById("spots").innerHTML = 
              '<span class="role">Stage Electricians/Follow Spot</span> ' + (convertNewlinesToBreaks(data.spots || 'loading...'));
            document.getElementById("traineeLX").innerHTML = 
              '<span class="role">Trainee</span> ' + (convertNewlinesToBreaks(data.tranieeLX || 'loading...'));
            document.getElementById("headSound").innerHTML = 
              '<span class="role">Head of Sound</span> ' + (convertNewlinesToBreaks(data.headSound || 'loading...'));
            document.getElementById("deputyHeadSound").innerHTML = 
              '<span class="role">Deputy Head of Sound</span> ' + (convertNewlinesToBreaks(data.deputyHeadSound || 'loading...'));
            document.getElementById("seniorMixer").innerHTML = 
              '<span class="role">Senior Mixer</span> ' + (convertNewlinesToBreaks(data.seniorMixer || 'loading...'));
            document.getElementById("assistantSound").innerHTML = 
              '<span class="role">Assistant Sound</span> ' + (convertNewlinesToBreaks(data.assistantSound || 'loading...'));
            document.getElementById("headWardrobe").innerHTML = 
              '<span class="role">Head of Wardrobe</span> ' + (convertNewlinesToBreaks(data.headWardrobe || 'loading...'));
            document.getElementById("deputyHeadWardrobe").innerHTML = 
              '<span class="role">Deputy Head of Wardrobe</span> ' + (convertNewlinesToBreaks(data.deputyHeadWardrobe || 'loading...'));
            document.getElementById("assistantWardrobe").innerHTML = 
              '<span class="role">Wardrobe Assistants</span> ' + (convertNewlinesToBreaks(data.assistantWardrobe || 'loading...'));
            document.getElementById("assistantWardrobeSwings").innerHTML = 
              '<span class="role">Wardrobe Swing Assistants</span> ' + (convertNewlinesToBreaks(data.assistantWardrobeSwings || 'loading...'));
            document.getElementById("swingDresser").innerHTML = 
              '<span class="role">Swing Dresser</span> ' + (convertNewlinesToBreaks(data.swingDresser || 'loading...'));
            document.getElementById("dressers").innerHTML = 
              '<span class="role">Dressers</span> ' + (convertNewlinesToBreaks(data.dressers || 'loading...'));
            document.getElementById("stageManager").innerHTML = 
              '<span class="role">Stage Manager</span> ' + (convertNewlinesToBreaks(data.stageManager || 'loading...'));
            document.getElementById("deputyStageManager").innerHTML = 
              '<span class="role">Deputy Stage Manager</span> ' + (convertNewlinesToBreaks(data.deputyStageManager || 'loading...'));
            document.getElementById("asmBook").innerHTML = 
              '<span class="role">Assistant Stage Manager - Book Covers</span> ' + (convertNewlinesToBreaks(data.asmBook || 'loading...'));
            document.getElementById("asm").innerHTML = 
              '<span class="role">Assistant Stage Manager</span> ' + (convertNewlinesToBreaks(data.asm || 'loading...'));
            document.getElementById("asmTech").innerHTML = 
              '<span class="role">Technical Assistant Stage Manager</span> ' + (convertNewlinesToBreaks(data.asmTech || 'loading...'));
            document.getElementById("headPuppets").innerHTML = 
              '<span class="role">Head of Masks & Puppets</span> ' + (convertNewlinesToBreaks(data.headPuppets || 'loading...'));
            document.getElementById("deputyHeadPuppets").innerHTML = 
              '<span class="role">Deputy Head of Masks & Puppets</span> ' + (convertNewlinesToBreaks(data.deputyHeadPuppets || 'loading...'));
            document.getElementById("assistantPuppets").innerHTML = 
              '<span class="role">Assistant Masks & Puppets</span> ' + (convertNewlinesToBreaks(data.assistantPuppets || 'loading...'));
            document.getElementById("fabricators").innerHTML = 
              '<span class="role">Production Fabricators</span> ' + (convertNewlinesToBreaks(data.fabricators || 'loading...'));
            document.getElementById("headWHAM").innerHTML = 
              '<span class="role">Head of Hair & Make-Up</span> ' + (convertNewlinesToBreaks(data.headWHAM || 'loading...'));
            document.getElementById("deputyWHAM").innerHTML = 
              '<span class="role">Deputy Head of Hair & Make-Up</span> ' + (convertNewlinesToBreaks(data.deputyWHAM || 'loading...'));
            document.getElementById("assistantWHAM").innerHTML = 
              '<span class="role">Assistant Hair & Make-Up</span> ' + (convertNewlinesToBreaks(data.assistantWHAM || 'loading...'));
            document.getElementById("headChaperone").innerHTML = 
              '<span class="role">Head Chaperone</span> ' + (convertNewlinesToBreaks(data.headChaperone || 'loading...'));
            document.getElementById("deputyHeadChaperone").innerHTML = 
              '<span class="role">Deputy Head Chaperone</span> ' + (convertNewlinesToBreaks(data.deputyHeadChaperone || 'loading...'));
            document.getElementById("chaperone").innerHTML = 
              '<span class="role">Chaperones</span> ' + (convertNewlinesToBreaks(data.chaperone || 'loading...'));
            document.getElementById("headAuto").innerHTML = 
              '<span class="role">Head of Automation</span> ' + (convertNewlinesToBreaks(data.headAuto || 'loading...'));
            document.getElementById("deputyHeadAuto").innerHTML = 
              '<span class="role">Deputy Head of Automation</span> ' + (convertNewlinesToBreaks(data.deputyHeadAuto || 'loading...'));
            document.getElementById("assistantAuto").innerHTML = 
              '<span class="role">Assistant Automation</span> ' + (convertNewlinesToBreaks(data.assistantAuto || 'loading...'));
            document.getElementById("physio").innerText = data.physio || 'loading...';
            document.getElementById("wellbeing").innerText = data.wellbeing || 'loading...';
          }
        });
      </script>
      
  
      <script>
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        let interval;
    
        function nextSlide() {
            slides[currentSlide].classList.remove('visible');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('visible');
            
            // Clear the previous interval
            clearInterval(interval);
            
            // Set the new interval based on the current slide
            if (currentSlide === 0) {
                interval = setInterval(nextSlide, 10000); // 10000ms = 10 seconds for the first slide
            } else {
                interval = setInterval(nextSlide, 20000); // 20000ms = 20 seconds for the other slides
            }
        }
    
        function startSlideshow() {
            // Start with the first slide
            slides[currentSlide].classList.add('visible');
            // Set the initial interval
            interval = setInterval(nextSlide, 10000); // 10000ms = 10 seconds for the first slide
        }
    
        document.addEventListener('DOMContentLoaded', startSlideshow);
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set an interval to reload the page every 45 minutes (2700000 milliseconds)
            setInterval(function() {
                window.location.reload();
            }, 2700000);
        });
        </script>\<script>
function startAnimation() {
    const lion = document.getElementById("lion");
    lion.classList.add("grow");

    setInterval(() => {
        lion.classList.toggle("grow");
    }, 20000);
}
</script>
</html>
